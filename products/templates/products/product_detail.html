{% extends '_base.html' %}
{% load crispy_forms_tags %}


{% block page_title %}جزییات محصول{% endblock page_title %}

{% block content %}
<div class="breadcrumb-area bg-color ptb--90" data-bg-color="#f6f6f6">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center flex-sm-row flex-column">
                    <h1 class="page-title">جزئیات محصول </h1>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Breadcrumb area End -->

<!-- Main Content Wrapper Start -->
<div class="main-content-wrapper">
    <div class="page-content-inner ptb--80">
        <div class="container">
            <div class="row no-gutters mb--80">
                <div class="col-12 col-sm-4 product-main-image d-flex align-content-center">
                    {% if product.image %}
                    <img class="m-auto" style="max-height: 400px;" src="{{product.image.url}}" alt="">
                    {% endif %}
                </div>
                <div class="col-12 col-sm-8 product-main-details mt-md--50">
                    <div class="product-summary pl-lg--30 pl-md--0 text-right p-4">
                        <h3 class="product-title mb--20"> {{product.title}} </h3>
                        <p class="product-short-description mb--20">
                            لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ، و با استفاده از طراحان گرافیک است، چاپگرها و متون بلکه روزنامه و مجله در ستون و سطرآنچنان که لازم است، و برای شرایط فعلی تکنولوژی مورد نیاز، و کاربردهای متنوع با هدف بهبود ابزارهای کاربردی
                        </p>
                        <div class="my-5 py-5 product-price-wrapper mb--25">
                            <span class="money text-success">{{product.price}}تومان</span>
                            <span class="price-separator">-</span>
                            <span class="money old-price text-danger">{{product.discount_price}}تومان</span>
                        </div>
                        <div class="product-action d-flex align-items-sm-center align-content-center mb--30">
                        </div>
                    </div>
                        <a href="{% url 'add-to-cart'  product.pk%}"><button type="button" class="btn btn-small btn-bg-red btn-color-white btn-hover-2" onclick="window.location.href='cart.html'">
                            اضافه به سبد خرید
                        </button></a>
                    </div>
                        <a href="{% url 'product-delete'  product.pk%}"><button type="button" class="btn btn-small btn-bg-red btn-color-white btn-hover-2" onclick="window.location.href='cart.html'">
                            پاک کردن محصول
                        </button></a>
                    <span>|</span>
                <a href="{% url 'update'  product.pk%}"><button type="button" class="btn btn-small btn-bg-red btn-color-white" onclick="window.location.href='cart.html'">
                    بروزرسانی محصول 
                </button></a>
            </div>
                    

                        <div class="product-footer-meta mt-5 pt-5">
                            <p><span class="m-0">دسته بندی ها:</span>
                                <a href="shop.html">لباس</a>,
                                <a href="shop.html">تابستانی</a>,
                                <a href="shop.html">گرم</a>,
                                <a href="shop.html">زنانه</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-12">
                    <div class="product-data-tab tab-style-3">
                        <div class="nav nav-tabs product-data-tab__head" id="product-tab" role="tablist">
                            <a class="m-0 product-data-tab__link nav-link active" id="nav-description-tab" data-toggle="tab" href="#nav-description" role="tab" aria-selected="true">
                                <span>توضیحات محصول</span>
                                <p></p>
                            </a>
                            <a class="m-0 product-data-tab__link nav-link" id="nav-info-tab" data-toggle="tab" href="#nav-info" role="tab" aria-selected="true">
                                <span>ویژگی ها</span>
                            </a>
                            <a class="m-0 product-data-tab__link nav-link" id="nav-reviews-tab" data-toggle="tab" href="#nav-reviews" role="tab" aria-selected="true">
                                <span>نظرات (۱)</span>
                            </a>
                        </div>
                        <div class="tab-content product-data-tab__content" id="product-tabContent">
                            <div class="tab-pane fade show active" id="nav-description" role="tabpanel" aria-labelledby="nav-description-tab">
                                <div class="product-description text-justify">
                                    <p>{{product.description}}</p>
                                </div>
                            </div>
                            <div class="tab-pane text-right" id="nav-info" role="tabpanel" aria-labelledby="nav-info-tab">
                                <div class="table-content table-responsive">
                                    <table class="table shop_attributes">
                                        <tbody>
                                            <tr>
                                                <th>وزن</th>
                                                <td>۴۳۰ گرم</td>
                                            </tr>
                                            <tr>
                                                <th>سایز</th>
                                                <td>XL</td>
                                            </tr>
                                            <tr>
                                                <th>رنگ</th>
                                                <td>
                                                    <a href="shop-sidebar.html">مشکی</a>,
                                                    <a href="shop-sidebar.html">سبز</a>,
                                                    <a href="shop-sidebar.html">قرمز</a>,
                                                    <a href="shop-sidebar.html">نارنجی</a>,
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="nav-reviews" role="tabpanel" aria-labelledby="nav-reviews-tab">
                                <div class="product-reviews">
                                    <h3 class="review__title">نظرات</h3>
                                    {% for comment in comments  %}
                                    <ul class="review__list">
                                        <li class="review__item">
                                            <div class="review__container">
                                                <div class="review__text">
                                                    <div class="d-flex flex-sm-row flex-row">
                                                        <img src="https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png" alt="Review Avatar" class="review__avatar">
                                                        <div>
                                                            <div class="review__meta">
                                                                <strong class="review__author px-4">{{comment.user.username}}</p> </strong>
                                                                <span class="review__dash">-</span>
                                                                <span class="review__published-date">۱۲ مرداد ۱۴۰۱</span>
                                                            </div>
                                                            {% if comment.recommend %}
                                                            <div class="product-rating">
                                                                <div class="">
                                                                    <div>
                                                                        <i class="bi bi-chat-heart"> این محصول رو توصیه میکنم </i>
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
                                                                            <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                                                                          </svg>    
                                                                        <path fill-rule="evenodd" d="M2.965 12.695a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2Zm-.8 3.108.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125ZM8 5.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z"/>
                                                                          </svg>
                                                                </div>
                                                                {% else %}
                                                                <i class="bi bi-chat-heart"> ابن محصول رو توصیه نمیکنم</i>
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heartbreak-fill" viewBox="0 0 16 16">
                                                                    <path fill-rule="evenodd" d="M8.931.586 7 3l1.5 4-2 3L8 15C22.534 5.396 13.757-2.21 8.931.586ZM7.358.77 5.5 3 7 7l-1.5 3 1.815 4.537C-6.533 4.96 2.685-2.467 7.358.77Z"/>
                                                                  </svg>
                                                                </div>
                                                            </div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <p class="review__description text-right px-4">
                                                        {{comment.text|linebreaks}}
                                                    </p>
                                                </div>
                                            </div>
                                            {% endfor %}
                                        </li>
                                    </ul>
                                    <div class="review-form-wrapper">
                                        <div class="row">
                                            <div class="border-top py-5 w-100"></div>
                                            <div class="col-lg-8 m-auto">
                                                <span class="reply-title pull-right">نظر خود را بنویسید</span>
                                                 <br>
                                                <form action="#" method = 'POST' class="form text-right">
                                                {% csrf_token %}
                                                {{comment_form|crispy}}
                                                <input type="submit" value="ارسال" class="btn-submit">

                                                    {% comment %}
                                                    <div class="form-notes mb--20">
                                                        <p class="my-3"><span class="required">*</span>ایمیل شما برای دیگران نشان داده نمیشود.</p>
                                                    </div>
                                                    <div class="form__group mb--10">
                                                        <label class="form__label d-block" for="email">متن نظر شما<span class="required">*</span></label>
                                                        <textarea name="review" id="review" class="form__input form__input--textarea"></textarea>
                                                    </div>
                                                    <div class="form__group mb--20">
                                                        <label class="form__label d-block" for="name">نام شما<span class="required">*</span></label>
                                                        <input type="text" name="name" id="name" class="form__input">
                                                    </div>
                                                    <div class="form__group mb--20">
                                                        <label class="form__label d-block" for="email">ایمیل شما<span class="required">*</span></label>
                                                        <input type="email" name="email" id="email" class="form__input">
                                                    </div>
                                                    <div class="form__group">
                                                        <div class="form-row">
                                                            <div class="col-12">
                                                                <input type="submit" value="ارسال" class="btn-submit"> {% endcomment %}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    
{% endblock content %}